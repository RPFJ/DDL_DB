CREATE TABLE F_DESENVOLVIMENTO_LOCAL_DW
(
    SK_EMPREENDIMENTO NUMBER NOT NULL,
    SK_REDE_ECONOMICA NUMBER NOT NULL,
    SK_TEMPO          NUMBER NOT NULL,
    SK_GERACAO_RENDA  NUMBER NOT NULL,
    SK_QUESTAO        NUMBER NOT NULL,
    VL_QUANTIDADE     NUMBER NOT NULL,
    DT_INCLUSAO_DW    DATE DEFAULT SYSDATE,

    CONSTRAINT FK_F_D_LOCAL_EMPREENDIMENTO FOREIGN KEY (SK_EMPREENDIMENTO) REFERENCES D_EMPREENDIMENTO_DW (SK_EMPREENDIMENTO),
    CONSTRAINT FK_F_D_LOCAL_R_ECONOMICA FOREIGN KEY (SK_REDE_ECONOMICA) REFERENCES D_REDE_ECONOMICA_DW (SK_REDE_ECONOMICA),
    CONSTRAINT FK_F_D_LOCAL_TEMPO FOREIGN KEY (SK_TEMPO) REFERENCES D_TEMPO_DW (SK_TEMPO),
    CONSTRAINT FK_F_D_LOCAL_GERACAO_RENDA FOREIGN KEY (SK_GERACAO_RENDA) REFERENCES D_GERACAO_RENDA_DW (SK_GERACAO_RENDA),

    CONSTRAINT PK_F_D_LOCAL_DW PRIMARY KEY (SK_EMPREENDIMENTO, SK_REDE_ECONOMICA, SK_TEMPO, SK_GERACAO_RENDA,
                                            SK_QUESTAO)
);

/*--    INDICE PARA OS CAMPOS FOREIGN KEY    --*/
CREATE INDEX IDX_F_D_LOCAL_TEMPO ON F_DESENVOLVIMENTO_LOCAL_DW (SK_TEMPO) TABLESPACE TBP_BI_USER_IDX;
CREATE INDEX IDX_F_D_LOCAL_R_EMPREENDIMENTO ON F_DESENVOLVIMENTO_LOCAL_DW (SK_TEMPO, SK_EMPREENDIMENTO) TABLESPACE TBP_BI_USER_IDX;
CREATE INDEX IDX_F_D_LOCAL_R_ECONOMICA ON F_DESENVOLVIMENTO_LOCAL_DW (SK_TEMPO, SK_REDE_ECONOMICA) TABLESPACE TBP_BI_USER_IDX;
CREATE INDEX IDX_F_D_LOCAL_G_RENDA ON F_DESENVOLVIMENTO_LOCAL_DW (SK_TEMPO, SK_GERACAO_RENDA) TABLESPACE TBP_BI_USER_IDX;
CREATE INDEX IDX_F_D_LOCAL_QUESTAO ON F_DESENVOLVIMENTO_LOCAL_DW (SK_TEMPO, SK_QUESTAO) TABLESPACE TBP_BI_USER_IDX;
CREATE TABLE F_EVOLUCAO_DW
(
    SK_COOPERATIVA       NUMBER         NOT NULL,
    SK_TEMPO             NUMBER         NOT NULL,
    SK_REDE_PRODUTIVA    NUMBER         NOT NULL,
    ID_EVOLUCAO          NUMBER         NOT NULL, 
    VL_GERACAO_RENDA     NUMBER(20, 10) NOT NULL,
    VL_N_HOMENS          NUMBER         NOT NULL,
    VL_N_MULHERES        NUMBER         NOT NULL,
    FG_ACESSO_COMPUTADOR CHAR(1)        NOT NULL,
    FG_ACESSO_INTERNET   CHAR(1)        NOT NULL,
    DT_INCLUSAO_DW       DATE DEFAULT SYSDATE,

    CONSTRAINT FK_F_EVOLUCAO_COOPERATIVA FOREIGN KEY (SK_COOPERATIVA) REFERENCES D_COOPERATIVA_DW (SK_COOPERATIVA),
    CONSTRAINT FK_F_EVOLUCAO_TEMPO FOREIGN KEY (SK_TEMPO) REFERENCES D_TEMPO_DW (SK_TEMPO),
    CONSTRAINT FK_F_EVOLUCAO_REDE_PRODUTIVA FOREIGN KEY (SK_REDE_PRODUTIVA) REFERENCES D_REDE_PRODUTIVA_DW (SK_REDE_PRODUTIVA),

    CONSTRAINT PK_F_EVOLUCAO_DW PRIMARY KEY (SK_COOPERATIVA, SK_TEMPO, SK_REDE_PRODUTIVA, ID_EVOLUCAO)
);

/*--    INDICE PARA OS CAMPOS FOREIGN KEY    --*/

CREATE INDEX IDX_F_EVOLUCAO_COOPERATIVA ON F_EVOLUCAO_DW (SK_COOPERATIVA) TABLESPACE TBP_BI_USER_IDX;
CREATE INDEX IDX_F_EVOLUCAO_TEMPO ON F_EVOLUCAO_DW (SK_TEMPO) TABLESPACE TBP_BI_USER_IDX;
CREATE INDEX IDX_F_EVOLUCAO_R_PRODUTIVA ON F_EVOLUCAO_DW (SK_REDE_PRODUTIVA) TABLESPACE TBP_BI_USER_IDX;
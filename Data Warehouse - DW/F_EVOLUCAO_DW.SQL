CREATE TABLE F_EVOLUCAO_DW
(
    SK_EMPREENDIMENTO       NUMBER  NOT NULL,
    SK_TEMPO                NUMBER    NOT NULL,
    SK_REDE_ECONOMICA       NUMBER  NOT NULL,
    SK_GERACAO_RENDA        NUMBER  NOT NULL,
    VL_N_HOMENS             NUMBER  NOT NULL,
    VL_N_MULHERES           NUMBER  NOT NULL,
    VL_ACESSO_COMPUTADOR    NUMBER  NOT NULL,
    VL_ACESSO_INTERNET      NUMBER  NOT NULL,
    FG_STATUS_ETL           CHAR(1),
     DT_INCLUSAO_DW         DATE DEFAULT SYSDATE,

    CONSTRAINT FK_F_EVOLUCAO_EMPREENDIMENTO FOREIGN KEY (SK_EMPREENDIMENTO) REFERENCES D_EMPREENDIMENTO_DW (SK_EMPREENDIMENTO),
    CONSTRAINT FK_F_EVOLUCAO_TEMPO FOREIGN KEY (SK_TEMPO) REFERENCES D_TEMPO_DW (SK_TEMPO),
    CONSTRAINT FK_F_EVOLUCAO_REDE_ECONOMICA FOREIGN KEY (SK_REDE_ECONOMICA) REFERENCES D_REDE_ECONOMICA_DW (SK_REDE_ECONOMICA),
    CONSTRAINT FK_F_EVOLUCAO_GERACAO_RENDA FOREIGN KEY (SK_GERACAO_RENDA) REFERENCES D_GERACAO_RENDA_DW (SK_GERACAO_RENDA),

    CONSTRAINT PK_F_EVOLUCAO_DW PRIMARY KEY (SK_EMPREENDIMENTO, SK_TEMPO, SK_REDE_ECONOMICA, SK_GERACAO_RENDA)
);

/*--    INDICE PARA OS CAMPOS FOREIGN KEY    --*/

CREATE INDEX IDX_F_EVOLUCAO_EMPREENDIMENTO      ON F_EVOLUCAO_DW (SK_TEMPO, SK_EMPREENDIMENTO) TABLESPACE TBP_BI_USER_IDX;
CREATE INDEX IDX_F_EVOLUCAO_TEMPO               ON F_EVOLUCAO_DW (SK_TEMPO) TABLESPACE TBP_BI_USER_IDX;
CREATE INDEX IDX_F_EVOLUCAO_GERACAO_RENDA       ON F_EVOLUCAO_DW (SK_TEMPO, SK_GERACAO_RENDA) TABLESPACE TBP_BI_USER_IDX;
CREATE INDEX IDX_F_EVOLUCAO_R_ECONOMICA         ON F_EVOLUCAO_DW (SK_TEMPO, SK_REDE_ECONOMICA) TABLESPACE TBP_BI_USER_IDX;